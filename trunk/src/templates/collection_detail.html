<!-- $Id$ -->
<!-- Administrator page for viewing and modifying all aspects of a document collection -->

<title node="con:title">Document Collection: <span node="-con:col_name">Name</span></title>

<div node = "-con:heads">

<script type="text/javascript" src="/static/js/mapping.js"></script>
<!--   <script type="text/javascript" src="/static/js/yui/build/yahoo/yahoo.js"></script> -->
<!--   <script type="text/javascript" src="/static/js/yui/build/dom/dom.js"></script> -->
<!--   <script type="text/javascript" src="/static/js/yui/build/event/event.js"></script> -->
<!--   <script type="text/javascript" src="/static/js/yui/build/connection/connection.js"></script> -->
<!--   <script type="text/javascript" src="/static/js/yui/build/animation/animation.js"></script> -->
<!--   <script type="text/javascript" src="/static/js/yui/build/calendar/calendar.js"></script> -->

 </div>


<div node="-con:body">
  <form action='./do_indexing' method="POST">
    <input type="submit" value="Index Now" />
  </form>
  <!-- the form is for updating the collections -->
  <form node="con:main_form" action="update" method="POST">
    <fieldset>
      <legend>Document Collection: <span node="con:name"></span></legend>
      <div class="info">
	<dl>
	<dt>Description</dt>
	<dd>The description will be visible to end users.</dd>
	</dl>
      </div>
      <div node="-con:col">
        <label class="main_label" for ="col">Name:</label>
        <input type="text" name="col"></input>
       </div>
      <div>
	<label class="main_label" for="description">
	  Description:
	</label>
	<input type="text" node="con:description" name="description"></input>
      </div>
    </fieldset>

    <fieldset>
      <legend>Files Specification</legend>
      <div class="info">
	<p>The options in this section determine which files will be
	included in this document collection.</p>
	<dl>
	  <dt>Paths</dt>
	  <dd>The directories specified here will be (recursively) searched
	  for files. Individual files may also be specified here.</dd>
	  <dt>Formats</dt>
	  <dd>Files of the selected formats will be included.</dd>
	  <dt>Age</dt>
	  <dd>Files older than this at the time of indexing will be
	  excluded.</dd>
	</dl>
      </div>
      <div node="-rep:mappings">
        <div>
	  <label class="main_label" for="path">Path:</label>
	  <input node="con:path" name="path"></input>
        </div>
        <div>
          <label class="main_label" for="mapping">Mapping:</label>
          <input node="con:mapping" name="mapping"></input>
        </div>
      </div>
      <div>
	<label class="main_label">Formats:</label>
	<div node="-rep:formats">
	  <label node="con:format_label">Fmt</label>
	  <input node="con:format_checkbox" type="checkbox" name="formats" value="format_name"></input>
	</div>
      </div>
      <div>
	<label class="main_label">Age:</label>
        <select name="oldest">
          <option node="con:none" value="">Unset</option>
          <option node="con:one_day" value="1 0 0">One Day</option>
          <option node="con:one_week" value="7 0 0">One Week</option>
          <option node="con:one_month" value="30 0 0">One Month</option>
          <option node="con:six_months" value="182 0 0">Six Months</option>
          <option node="con:one_year" value="365 0 0">One Year</option>
        </select>
      </div>
    </fieldset>

    <fieldset>
      <legend>Indexing Options</legend>
      <div class="info">
	These options control the way this document collection is
	indexed. 
      </div>
      <div>
        <label class="main_label" for="language">Language:</label>
        <select name="language">
          <option node="rep:language_option"></option>
        </select>
      </div>
      <div>
        <label class="main_label" for="stopwords">Stop Words</label>
        <input name="stopwords" node="con:stopwords"></input>
      </div>
    </fieldset>

    <fieldset>
      <legend>Scheduling</legend>
      <div class="info">
	These options determine when indexing of this collection takes
	place. The collection will be scheduled every minute that
	matches the specification (in practice it would probably be a
	bad idea to allow such, but the specification allows it). In
	order for a specification to match each part of it must
	match. The wildcard "*" matches everything. The empty string
	matches nothing. (Therefore an empty string anywhere ensures no
	automatic indexing.) Otherwise a comma delimited list of
	integers is expected. The sensible ranges for each field are
	as follows:
        <table>
          <tr><td>Minutes</td><td>0-59</td></tr>
          <tr><td>Hours</td><td>0-23</td></tr>
          <tr><td>Weekdays</td><td>0-6</td></tr>
          <tr><td>Monthdays</td><td>1-31</td></tr>
          <tr><td>Months</td><td>1-12</td></tr>
        </table>
      </div>
      
      <div>
        <label class="main_label" for="mins">Minutes</label>
        <input node="con:mins" name="mins"></input>
      </div>
      <div>
        <label class="main_label" for="hours">Hours</label>
        <input node="con:hours" name="hours"></input>
      </div>
      <div>
        <label class="main_label" for="weekdays">Weekdays</label>
        <input node="con:weekdays" name="weekdays"></input>
      </div>
      <div>
        <label class="main_label" for="monthdays">Monthdays</label>
        <input node="con:monthdays" name="monthdays"></input>
      </div>
      <div>
        <label class="main_label" for="months">Months</label>
        <input node="con:months" name="months"></input>
      </div>
    </fieldset>
    <input type="submit" />
  </form>
</div>
