#summary Logging for Flax

= Flax Logging =


This document discusses how Flax should do logging, and is essentially
a summary of a conversation in irc. The standard Python logging
[http://docs.python.org/lib/module-logging.html module] has good
functionality and it would be perverse not to use it unless we had a
compelling reason to do otherwise.

There is a detailed article on using the system [http://www.red-dove.com/python_logging.html here].

The configuration file for the logging system is very flexible, but we
would like to allow some configuration to happen through the web
application.

The difficulty is then that we need to both notice changes to log file
and changes through the web app in a consistent fashion.

The logging module provides loggging.config.listen which listens on a
particular port for logging system configuration data.

We therefore plan as follows:

  * Parts of Flax that generate logging output (currently the web server and the indexer) listen for logging configuration changes using logging.config.listen.

  * The web application includes a form (or forms) for setting certain logging options. This form is populated by programmatically querying the logging module for current settings. Form submission results in re-writing some parts of the log file (for the options that we provide for in the web app). Note that this does not directly change the current logging settings.

  * There is a separate, relatively simple, process that watches the logging configuration file and, if it changes notifies any listeners (i.e. the web server and the indexer).


Only a subset of possible configuration options will be provided in
the web application, but where more esoteric configuration is desired
the fall-back of editing the log file directly remains.